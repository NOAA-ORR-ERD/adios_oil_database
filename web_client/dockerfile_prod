# Oil Database Web Client production Docker configuration
#
FROM nginx:latest

COPY ./web_client/ /web_client/
COPY ./oildb-deploy/config/web_client/ /web_client/public/configs/

RUN cd /web_client && npm install -g n
RUN cd /web_client && n stable
RUN cd /web_client && node --version

RUN cd /web_client && npm install npm@latest -g
RUN cd /web_client && npm install
RUN cd /web_client && npm --version

RUN cd /web_client && npm install -g ember-cli

RUN cd /web_client && ember build --environment production

COPY ./web_client/dist/ /usr/share/nginx/html/
