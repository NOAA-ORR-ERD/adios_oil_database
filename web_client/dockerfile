# Oil Database Web Client Docker configuration
#

FROM gitlab.orr.noaa.gov:5002/centos-conda

RUN yum update -y && yum -y install node npm

COPY ./web_client/ /web_client/

RUN mkdir /config

RUN cd /web_client && npm install -g npm
RUN cd /web_client && npm update
RUN cd /web_client && npm install -g ember-cli
RUN cd /web_client && npm install

VOLUME /config
EXPOSE 4200
ENTRYPOINT ["/web_client/docker_start.sh"]
