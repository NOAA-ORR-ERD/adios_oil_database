<div class="container">

  <div class="row pl-0 pr-0">
    
    <div class="col-5">

      <div class="row pl-0 mb-3">

        {{! Oil ID }}
        <div class="col-4 pl-0 input-group">
          <div class="input-group-prepend">
            <label class="p-1 input-group-text font-weight-bold">ID:</label>
          </div>
          <Input @class="p-1 flex-fill bg-transparent border" @size="6" @value={{oil.id}} @readonly />
        </div>

        {{! Location }}
        <div class="col pl-0 input-group">
          <div class="input-group-prepend">
            <label class="p-1 input-group-text font-weight-bold">Location:</label>
          </div>
          {{#if oil.location}}
            <Input @class="p-1 flex-fill bg-transparent border" @value={{oil.location}} @readonly={{readOnly}} />
          {{else}}
            <Input @class="p-1 flex-fill bg-transparent border" @value="None" @readonly={{readOnly}} />
          {{/if}}
        </div>

      </div>

      <div class="row pl-0 mb-3">

        {{! API }}
        <div class="col-4 pl-0 input-group">
          <div class="input-group-prepend">
            <label class="p-1 input-group-text font-weight-bold">API:</label>
          </div>
          {{#if (not (is-empty oil.samples.[0].apis))}}
            <Input @id="api" @type="text" @class="p-1 flex-fill bg-transparent border" 
              @placeholder="API value" @value={{round-relative oil.samples.[0].apis.[0].gravity 2}}
              @change={{action "updateAPI"}} @size="6" @readonly={{readOnly}} />
          {{else}}
            <Input @id="api" @type="text" @class="p-1 flex-fill bg-transparent border" 
              @placeholder="API value" @value="No Values"
              @change={{action "updateAPI"}} @size="6" @readonly={{readOnly}} />
          {{/if}}
        </div>

        {{! Type }}
        <div class="col pl-0 form-inline">
          <div class="input-group-prepend">
            <label class="p-1 input-group-text font-weight-bold">Type:</label>
          </div>
          {{#if editable}}
            <select class="p-1 flex-fill bg-transparent border">
              {{#each this.oilTypes as |oilType|}}
                {{#if (eq oil.productType oilType)}}
                  <option selected>{{oilType}}</option>
                {{else}}
                  <option>{{oilType}}</option>
                {{/if}}  
              {{/each}}
            </select>
          {{else}}
            <span class="p-1 flex-fill bg-transparent border">{{oil.productType}}</span>
          {{/if}}  
        </div>

      </div>

      <div class="row pl-0 mb-3">
      
        {{! Categories }}
        <div class="form-inline">
          <div class="input-group-prepend">
            <label class="p-1 input-group-text font-weight-bold">Categories:</label>
          </div>

          <PowerSelectMultiple 
            @class="pl-1 flex-fill bg-transparent border"
            @searchEnabled={{true}}
            @options={{oil.categories}}
            @selected={{oil.categories}}
            @placeholder="Select some categories..."
            @onChange={{action (mut category)}} as |category|>
            {{category}}
          </PowerSelectMultiple>

          {{!-- <select class="p-1 bg-transparent border" multiple>
            {{#each oil.categories as |category|}}
              <option class="p-0 pl-1 bg-transparent">{{category}}</option>
            {{else}}
              <option class="p-0 pl-1 bg-transparent">None</option>
            {{/each}}      
          </select> --}}
        </div>
      
      </div>

    </div>

    <div class="col-7 pr-0 mb-3">

      {{! Reference }}
      <div class="row mb-3 input-group">
        <div class="input-group-prepend">
          <label class="p-1 input-group-text font-weight-bold">Reference:</label>
        </div>
        {{#if oil.reference}}
          <Textarea @class="p-1 flex-fill bg-transparent border" @value={{oil.reference}} @rows="3" @readonly={{readOnly}} />
        {{else}}
          <Textarea @class="p-1 flex-fill bg-transparent border" @value="None" @readonly={{readOnly}} />
        {{/if}}
      </div>

      <div class="row">

        {{! Reference Date }}
        <div class="col-5 pl-0 input-group">
          <div class="input-group-prepend">
            <label class="p-1 input-group-text font-weight-bold">Reference Date:</label>
          </div>
          {{#if oil.referenceDate}}
            <Input @class="p-1 flex-fill bg-transparent border"  @size="7" @readonly={{readOnly}}
            {{! Europe/London is how we lookup GMT in moment.js }}
            @value={{moment-format (unix oil.referenceDate) "YYYY-MM-DD" timeZone="Europe/London"}} />
          {{else}}
            <Input @class="p-1 flex-fill bg-transparent border" @size="7" @value="None" @readonly={{readOnly}} />
          {{/if}}
        </div>

        {{! Sample Received Date }}
        <div class="col pl-0 input-group">
          <div class="input-group-prepend">
            <label class="p-1 input-group-text font-weight-bold">Sample Received Date:</label>
          </div>
          {{#if oil.sampleDate}}
            <Input @class="p-1 flex-fill bg-transparent border" @size="7" @readonly={{readOnly}}
            {{! Europe/London is how we lookup GMT in moment.js }}
            @value={{moment-format (unix oil.sampleDate) "YYYY-MM-DD" timeZone="Europe/London"}} />
          {{else}}
            <Input @class="p-1 flex-fill bg-transparent border" @size="7" @value="None" @readonly={{readOnly}} />
          {{/if}}
        </div>
      </div>

    </div>

  </div>

  {{!-- <div class="row pl-0 pr-0">

    <div class="col-2 pl-0 pr-0 d-flex flex-column">
      {{! First column }}

    </div>

    <div class="col-sm-6 col-md-6 col-lg-5 col-xl-4 d-flex flex-column">
      {{! Second column }}

    </div>
  </div>
 --}}
  {{! Comments }}
  <div class="row pl-0 pr-0 mb-3">
    <div class="col pl-0 pr-0 input-group">
      <div class="input-group-prepend">
        <label class="p-1 input-group-text font-weight-bold">Comments:</label>
      </div>
      {{#if oil.comments}}
        <Textarea @class="p-1 flex-fill bg-transparent border" @value={{oil.comments}} @rows="1" @readonly={{readOnly}} />
      {{else}}
        <Textarea @class="p-1 flex-fill bg-transparent border" @value="None" @rows="1" @readonly={{readOnly}} />
      {{/if}}
    </div>
  </div>  

  <div class="row pl-0 pr-0 mb-4">
    {{! Status }}
    {{#unless oil.status}}
      <span class="col pl-0 pr-0 mb-2 input-group">
        <div class="input-group-prepend">
          <label class="p-1 input-group-text font-weight-bold">Status:</label>
        </div>
        <Input @class="status-good p-1 bg-transparent border-0 font-italic" @size="4" @value="OK" @readonly />
      </span>
    {{/unless}}
  </div>

  <div class="row">
    <div class="col">
      {{#if oil.status}}
        <ul>
          {{#each oil.status as |stat|}}
            <li><i class="status-bad">{{stat}}</i></li>
          {{/each}}
        </ul>
      {{/if}}
    </div>
  </div>

</div>
